{"version":3,"sources":["App.js","index.js"],"names":["App","useState","data","setData","dataNet","setDataNet","titulo","setTitulo","descripcion","setDescripcion","publis","setPublis","editMode","setEditMode","id","setId","error","setError","imagen","setImagen","ValidarFormulario","isValidado","isEmpty","peticion","a","axios","get","then","response","articles","catch","console","log","peticionNet","useEffect","className","size","map","publi","title","src","logo","onClick","lapublic","tareasfiltradas","filter","tarea","deletePublic","onSubmit","e","preventDefault","editPublic","item","newpubli","shortid","generate","type","placeholder","onChange","text","target","value","name","files","FileReader","content","description","image","height","margin","url","codigo","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f2cdda0d.chunk.js","sourcesContent":["import { isEmpty, map, size } from 'lodash'\nimport React, {useEffect , useState} from 'react'\nimport shortid from 'shortid'\nimport axios from 'axios';\nfunction App() {\n  const urlBaseApi=\"https://gnews.io/api/v4/search?q=watches&token=148e7db7f9912b987535ef16fe28babb\"\n  const urlBaseApiNet=\"https://reactserviceapp.azurewebsites.net/api/Articulos\"\n  const [data, setData]=useState([])  \n  const [dataNet, setDataNet]=useState([])\n  const [titulo, setTitulo]= useState(\"\")\n  const [descripcion, setDescripcion]= useState(\"\")\n  const [publis, setPublis]= useState([])\n  const [editMode, setEditMode] = useState(false)\n  const [id, setId] = useState(\"\")\n  const [error, setError] = useState(null)\n  const [imagen, setImagen] = useState();\n\n  const ValidarFormulario = ()=>{\n    let isValidado = true\n    setError(null)\n\n    if (isEmpty(titulo))\n    {\n      setError(\"Debes ingresar una reloj\")\n      isValidado = false\n    }\n    if (isEmpty(descripcion))\n    {\n      setError(\"Debes ingresar una reloj\")\n      isValidado = false\n    }\n    return isValidado \n  }\n\n  const AgregarTask = (e) =>{\n    //evita que recargue la pagina\n    e.preventDefault()\n    if (!ValidarFormulario())\n    {\n      return\n    }\n    const newpubli = {\n      id: shortid.generate(),\n      title: titulo,\n      descripcion:descripcion,\n      logo:imagen\n    }\n    setPublis([ ...publis,newpubli])   \n    setTitulo(\"\")\n    setDescripcion(\"\")\n  }\n  const deletePublic = (id) =>{\n    const tareasfiltradas = publis.filter(tarea =>tarea.id !== id)\n    setPublis(tareasfiltradas)    \n  }\n  const editarublic = (lapublic) =>{\n    setTitulo(lapublic.title)\n    setDescripcion(lapublic.descripcion)\n    setEditMode(true)\n    setId(lapublic.id)   \n  }\n  const savePublic = (e) =>{\n    //evita que recargue la pagina\n    e.preventDefault()\n    if (!ValidarFormulario())\n    {\n      return\n    } \n    const editPublic = publis.map( item => item.id === id ?{ id, title:titulo,descripcion:descripcion,logo:imagen}: item)\n    setPublis(editPublic)   \n    setEditMode(false)  \n    setId(\"\")      \n    setTitulo(\"\")   \n    setDescripcion(\"\") \n    \n  }\n\n  const changeImagen = e => {\n        setImagen(e.target.files[0]);\n        console.log(imagen);\n        const fileReader = new FileReader();\n// fileReader.onload = fileLoadedEvent => {\n//   const base64Image = fileLoadedEvent.target.result;\n// };\n// fileReader.readAsDataURL(imagepath); \n// console.log(imagepath);\n        \n    }\n    const peticion=async()=>\n    {\n      await axios.get(urlBaseApi)\n      .then(response=>{\n        setData(response.data.articles);\n      }).catch (error=>{\n        console.log(error);\n      });\n    }\n    const peticionNet=async()=>\n    {\n      await axios.get(urlBaseApiNet)\n      .then(response=>{       \n        setDataNet(response.data);\n      }).catch (error=>{\n        console.log(error);\n      });\n    }\n\n    useEffect(()=>{\n      peticion();\n      peticionNet();\n    },[])\n  return (  \n    <div className=\"container mt-5\">\n      <h1>Publicaciones Locales</h1>       \n      <hr/>   \n      <div className=\"row\">\n        <div className=\"col-8\">\n           <h4 className=\"text-center\">Lista Articulos</h4> \n           {\n             size(publis)===0 ?(\n                <li className=\"list-group-item\">No hay articulos</li>\n             ):(\n              <table className=\"table\">\n        <thead> \n          <tr>\n            <th>Codigo</th>\n            <th>Titulo</th>\n            <th>Descripcion</th>\n            <th>Imagen</th>\n            <th>Acciones</th>\n          </tr>\n        </thead>\n        <tbody>\n          { publis.map((publi)=>(\n          <tr key={publi.id}>\n            <td>{publi.id}</td>   \n            <td>{publi.title}</td>\n            <td>{publi.descripcion}</td>     \n            <td><img src={publi.logo} /></td>  \n            <td>\n              <button className=\"btn btn-primary\" onClick={()=> editarublic(publi)}>Editar</button> {\"   \"}\n              <button className=\"btn btn-danger\"  onClick={()=> deletePublic(publi.id)}  >Eliminar</button>\n              </td>       \n          </tr>\n          ))}\n       </tbody>\n      </table>\n             )            \n          } \n                   \n        </div>\n        <div className=\"col-4\">\n           <h4 className=\"text-center\">\n             {editMode ?\"Modificar articulo\":\"Agregar articulo\"}\n             </h4> \n           <form onSubmit={editMode ? savePublic : AgregarTask}>\n           { error && <span className=\"text-danger mb-2\">{error}</span>}\n            <input type=\"text\" \n            className=\"form-control mb-2\" \n            placeholder=\"Ingrese un titulo....\" \n            onChange={(text)=> setTitulo(text.target.value)}\n            value={titulo}\n            /> \n            <textarea className=\"form-control\" type=\"text\" \n            className=\"form-control mb-2\" \n            placeholder=\"Ingrese un contenido....\" \n            onChange={(text)=> setDescripcion(text.target.value)}\n            value={descripcion}\n            /> \n            <input className=\"form-control\" type=\"file\" name=\"imagen\" onChange={changeImagen} />\n            <br />      \n            <button className={editMode ? \"btn btn-warning btn-block\" : \"btn btn-success btn-block\"} type=\"submit\" \n            >{editMode ?\"Modificar\":\"Agregar\"}</button>\n           </form>\n        </div>\n      </div>\n\n      {/* Las publicaciones remotas */}\n\n      <h1>Publicaciones Remotas</h1>       \n      <hr/>   \n      <div className=\"row\">\n        <div className=\"col-12\">\n           <h4 className=\"text-center\">Lista Articulos</h4> \n           {\n             size(data)===0 ?(\n                <li className=\"list-group-item\">No hay articulos</li>\n             ):(\n              <table className=\"table\">\n              <thead> \n                <tr>\n                  <th>Titulo</th>\n                  <th>Contenido</th>\n                  <th>Descripcion</th>\n                  <th>Imagen</th>\n                </tr>\n              </thead>\n            <tbody>\n              { data.map((publi)=>(\n              <tr>\n                <td>{publi.title}</td>   \n                <td>{publi.content}</td>\n                <td>{publi.description}</td>     \n                <td><img src={publi.image} height=\"150px\"  margin=\"auto\"/></td>                        \n              </tr>\n              ))}\n            </tbody>\n            </table>\n             )            \n          }                    \n        </div>\n      </div>\n\n      {/* Las publicaciones remotas  +*/}\n\n      <h1>Publicaciones Remotas +</h1>       \n      <hr/>   \n      <div className=\"row\">\n        <div className=\"col-12\">\n           <h4 className=\"text-center\">Lista Articulos</h4> \n           {\n             size(dataNet)===0 ?(\n                <li className=\"list-group-item\">No hay articulos</li>\n             ):(\n              <table className=\"table\" >\n              <thead> \n                <tr>\n                  <th>Titulo</th>\n                  <th>Contenido</th>\n                  <th>Descripcion</th>\n                  <th>Imagen</th>\n                </tr>\n              </thead>\n            <tbody>\n              { dataNet.map((publi)=>(\n              <tr key={publi.codigo}>\n                <td>{publi.title}</td>   \n                <td>{publi.content}</td>\n                <td>{publi.description}</td>     \n                <td><img src={publi.url} height=\"150px\"  margin=\"auto\"/></td>                        \n              </tr>\n              ))}\n            </tbody>\n            </table>\n             )            \n          } \n                   \n        </div>\n      </div>\n\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}